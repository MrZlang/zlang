(function(a){a.isIE6=function(){return(a.browser.msie&&a.browser.version=="6.0"&&!a.support.style)};a.boundOffset=function(e,l,r){var g={offset:{x:0,y:0},container:window,moreOffset:false};var b=a.extend(g,r);var i=l.offset(),d=l.outerWidth(),o=e.outerWidth(),c=a(b.container),m=c.width(),f=c.scrollLeft();var q=["pos-left","pos-right"];a.each(q,function(h,s){e.removeClass(s)});if(i.left+d+o>m+f){i.left-=o+b.offset.x;e.addClass(q[0])}else{i.left+=d+b.offset.x;e.addClass(q[1])}if(b.moreOffset){var n=l.outerHeight(),k=c.height(),p=c.scrollTop(),j=e.outerHeight();if(i.top+j>k+p){i.top=k+p-j-b.offset.y}else{i.top-=b.offset.y}}e.css(i)};a.fn.hoverForIE6=function(b){if(a.isIE6()){b=b||"hover";return this.each(function(){var c=a(this);c.hover(function(){c.addClass(b)},function(){c.removeClass(b)})})}return this};a.fn.floatMenu=function(c){var d={delay:500,duration:700,vertical:"bottom",horizon:"right",relativeTo:"body",fx:true,offset:0,limit:0};var e=a.extend(d,c);var b=a(e.relativeTo),g=a.isIE6(),f=function(h){if(e.relativeTo=="body"){h.css(e.horizon,0)}else{h.css("left",(e.horizon=="right")?b.offset().left+b.width()-h.outerWidth():b.offset().left)}};return this.each(function(){var p=a(this),s=p.offset().top,o=p.outerHeight(),q=b.height(),k=b.offset().top,n=false;var l=function(v){var h=a(window).height(),t=a(window).scrollTop(),u;if(e.vertical=="top"){u=(t+e.offset<=s)?s:t+e.offset}else{if(e.vertical=="bottom"){u=(t+h-(e.offset+o)<=s)?s:t+h-(o+e.offset)}}if(e.relativeEl!="body"){u=Math.max(k,Math.min(k+q-o,u))}return u};var m;var i=function(){n=false;var h=l();if(h<e.limit){p.hide();return}else{if(!(!e.fx&&g)){p.show()}}if(e.fx){p.animate({top:h},{duration:e.duration,queue:false})}else{if(g){m=setTimeout(function(){if(n){clearTimeout(m)}p.css("top",h).fadeIn()},e.delay)}}};f(p.css({position:(e.fx||g)?"absolute":"fixed","z-index":9999}));i();if(a.browser.msie){var j,r;a(window).bind("scroll",function(){clearTimeout(j);j=setTimeout(function(){i()},100);if(!e.fx&&!n){p.hide();n=true}}).bind("resize",function(){clearTimeout(r);r=setTimeout(function(){f(p);i()},100)})}else{a(window).bind("scroll",function(){i()}).bind("resize",function(){f(p);i()})}})};a.fn.dropMenu=function(c){var b={delay:200,offset:{x:0,y:20},shim:false,trigger:"hover",menu:null};var d=a.extend(true,{},b,c);return this.each(function(){var e,m=1,j=a(this),k=false,n={};var g=d.menu||(j.attr("dropmenu")?a("#"+a(this).attr("dropmenu")):null);if(!g){return false}g.css({position:"absolute",display:"none"});if(d.shim){var h=g.shim().next("iframe.shim").hide()}o();a(window).load(o).resize(function(){if(m){clearTimeout(m)}m=setTimeout(function(){o();m=null},500)});var f=function(){i();a(document).unbind("click",f)};if(d.trigger=="hover"){j.add(g).hover(function(){if(e){clearTimeout(e)}if(!k){l()}},function(){e=setTimeout(function(){i()},d.delay)})}else{j.click(function(){if(!k){l()}setTimeout(function(){a(document).bind("click",f)},0)})}function l(){g.show();k=true;if(h){h.show()}}function i(){g.hide();k=false;if(h){h.hide()}}function o(){var p=j.position();n={left:d.offset.x+p.left,top:d.offset.y+p.top};g.css(n);if(h){h.css(n)}}})};a.fn.popup=function(d){var e={delay:600,effect:true,duration:300,content:"title",offset:{x:10}};var g=a.extend(e,d),b=a(".x-popup").length?a(".x-popup").eq(0):a('<div class="x-popup popup-box"><div class="bl"><div class="br"><div class="bd"></div><i class="arr"></i></div></div><div class="bt"><div class="bt-l"><div class="bt-r"><div class="bt-b"></div></div></div></div></div>').appendTo("body"),f=b.find(".bd"),h=false,i=function(j,k){if(h){return}f.html(k);a.boundOffset(b,j,{offset:g.offset});if(g.effect){b.fadeIn(g.duration)}else{b.show()}h=true},c=function(){h=false;if(g.effect){b.fadeOut(g.duration)}else{b.hide()}};return this.each(function(j){var l=a(this),k,m;if(g.content=="title"){k=l.attr("title");l.removeAttr("title")}else{k=a(g.content).eq(j).html()}l.hover(function(){m=setTimeout(function(){i(l,k)},g.delay)},function(){clearTimeout(m);c()})})};a.fn.stickPopup=function(b){var c={content:"",offset:{x:10},width:null,once:true,cookie:null,onClose:function(){}};var d=a.extend(c,b);return this.each(function(f){var k=a(this),j,l;var g=d.cookie||(this.id?"tip_"+this.id:null);if(g&&a.cookie(g)){return}var e=a('<div class="popup-box"><div class="bl"><div class="br"><div class="bd"></div><i class="arr"></i><a class="btn-close" href="#"><i></i></a></div></div><div class="bt"><div class="bt-l"><div class="bt-r"><div class="bt-b"></div></div></div></div></div>').appendTo("body"),i=e.find(".bd");k.data("popup",e);if(!isNaN(d.width)&&d.width>0){e.css("width",d.width)}if(!d.content){j=k.attr("title");k.removeAttr("title")}else{if(typeof d.content=="string"){j=d.content}else{if(d.content instanceof a){j=a(d.content).eq(f).html()}}}a.boundOffset(e,k,{offset:d.offset});i.html(j);var h=this;e.find(".btn-close").click(function(){e.hide();if(a.isFunction(d.onClose)){d.onClose.call(h)}if(d.once&&g){a.cookie(g,1,{expires:9999})}return false});if(!d.once||(g&&!a.cookie(g))){e.show()}})};a.fn.clickOutside=function(b){return this.each(function(){var d=this;var c=function(g){var h=g.target,f=false;while(h.parentNode!=null){if(h==d){f=true;break}h=h.parentNode}if(f){return}b.call(this);a(document).unbind("click",c)};a(document).bind("click",c)})};a.fn.shim=function(){if(a.browser.msie){this.each(function(){var d=a(this);d.css({display:"block",visibility:"hidden"});var b=d.outerWidth(),e=d.outerHeight();d.css({display:"none",visibility:"visible"});var f=d.position(),c='<iframe class="shim" frameborder="0" style="display: block;position: absolute;top:'+f.top+"px;left:"+f.left+"px;width:"+b+"px;height:"+e+"px;z-index:"+(d.css("z-index")?d.css("z-index")-1:0)+';"/>';d.after(c)})}return this};a.fn.unshim=function(){if(a.browser.msie){this.each(function(){a(this).next("iframe.shim").remove()})}return this};a.fn.imgPreview=function(d){var e={delay:1000,attr:"b_src",smallSize:180,largeSize:325};var g=a.extend({},e,d);var c=a('<div id="gimg-preview" ><div class="loading">loading....</div></div>').hide().appendTo(document.body),h,b;return this.each(function(){var j=a(this),i=j.find("img");if(!i||!i.attr(g.attr)||i.attr(g.attr).indexOf("lack_pic")>=0){return}j.mouseenter(function(){b=setTimeout(function(){f(i);a.isFunction(g.onShow)&&g.onShow.call(j,c);c.show();a.boundOffset(c,j,{moreOffset:true,offset:{x:10,y:5}})},g.delay)}).mouseleave(function(){clearTimeout(h);clearTimeout(b);c.hide()})});function f(i){var j=i.attr(g.attr)||false;if(!j){return}c.empty().html('<div class="loading">loading....</div>');var i=a('<img src="'+j+'"/>').load(function(){var k=a(this).parent(),l=this;h=setTimeout(function(){k.css("display","");if(l.width>=l.height){l.width=g.largeSize}else{l.height=g.largeSize}c.find(".loading").hide()},300)});return a('<div class="gpreview" />').append(i).appendTo(c).hide()}};a.fn.imgResize=function(b,c){c=c||b;return this.each(function(){if(this.tagName!="IMG"){return}var j=a(this),e=this;e.removeAttribute("width");e.removeAttribute("height");if(e.width>b||e.height>c){var h=e.width,d=e.height,k=e.width/e.height,g=Math.min(1,b/h);for(var f=2;f--;){h*=g;d=h/k;g=Math.min(1,c/d)}e.width=h;e.height=d}if(e.height<c){j.css("margin-top",(c-e.height)/2)}})};a.fn.imgZoom=function(q){var p={width:400,height:400,jqSrc:"jqsrc",requireSize:550,spotSize:200,viewSize:400,offset:{left:5,top:0}};var b=a.extend(p,q),l=a(this),g=l.offset(),o=false,k,h,j,n,m,i,d,e,c;var f=function(s,t,r){return Math.max(t,Math.min(s,r))};l.hover(function(){var r=l.find("img");if(r.attr("src").indexOf("lack")>=0){return(o=true)}else{o=false}e=(l.width()-r.width())/2;c=(l.height()-r.height())/2;n=r.get(0).width;m=r.get(0).height;i=n-b.spotSize;d=m-b.spotSize;h=l.find(".img-spot").length?l.find(".img-spot"):a('<div class="img-spot"></div>').css({width:b.spotSize,height:b.spotSize,top:0,left:0,display:"none"}).appendTo(l);k=a('<div class="img-zoom"></div>').css({left:g.left+l.outerWidth()+b.offset.left,top:g.top+b.offset.top,width:b.width,height:b.height}).insertAfter(l);j=a('<img src="'+r.attr(b.jqSrc)+'" />').load(function(){h.show();if(this.width<b.width||this.height<b.height){if(this.width<this.height){a(this).attr("width",b.width)}else{a(this).attr("height",b.height)}}}).appendTo(k)},function(){l.parent().find(".img-spot, .img-zoom").remove()}).mousemove(function(s){if(o){return}var r={left:f(s.pageX-g.left-b.spotSize/2,0,i),top:f(s.pageY-g.top-b.spotSize/2,0,d)};if(h){h.css({left:r.left+e,top:r.top+c})}if(j){j.css({left:-r.left*(j.get(0).width-b.width)/i,top:-r.top*(j.get(0).height-b.height)/d})}});return this};a.fn.tabSwitcher=function(b){var c={startIndex:0,activeCls:"cur",tabCls:".tab",itemCls:".tab-item",delay:0,duration:5000,autoPlay:false,trigger:"click",omitLinks:false,effect:false};var d=a.extend({},c,b);d.trigger=(d.trigger=="hover")?"mouseenter":d.trigger;this.each(function(){var k=a(this),l=k.find(d.tabCls),j=k.find(d.itemCls),i=-1,e,h;j.hide();m(d.startIndex);if(d.autoPlay){f();k.hover(function(){if(h){clearTimeout(h)}},function(){f()})}l.each(function(n,o){if(d.delay>0){a(o).hover(function(){e=setTimeout(function(){m(n)},d.delay)},function(){if(e){clearTimeout(e)}})}else{a(o).bind(d.trigger,function(){m(n)})}});function m(n){if(n!=i){l.eq(i).removeClass(d.activeCls);j.eq(i).hide();if(d.effect){if(d.effect=="slide"){j.eq(n).fadeIn({queue:false,duration:300})}else{j.eq(n).fadeIn({queue:false,duration:300})}}else{j.eq(n).show()}l.eq(n).addClass(d.activeCls);i=n;if(d.onShow){d.onShow.apply(this,[i,l,j])}}}function g(){var n=(i>=l.length-1)?0:i+1;m(n)}function f(){h=setInterval(function(){g()},d.duration)}});return this};a.fn.tgSlider=function(g){var r={btnPrevCls:".btn-prev",btnNextCls:".btn-next",pageCls:".ctl-page",containerCls:".slide-content",itemCls:"li",activeCls:"cur",perItem:5,startIndex:0,autoPlay:false,duration:5000,fxDuration:600,circle:true,direction:"horizon",onShow:function(){}};var m=a.extend({},r,g);var h=a(this),i=this,l=h.find(m.containerCls),o=l.find(m.itemCls),k=h.find(m.pageCls),c=h.find(m.btnPrevCls),f=h.find(m.btnNextCls);if(!l||!o){return false}var j=(m.direction!="vertical")?o.outerWidth():o.outerHeight(),t=o.length,n=m.perItem,p=-1,s=false,d;if(t<=n){c&&c.addClass("disabled");f&&f.addClass("disabled");return}l.css((m.direction!="vertical")?"width":"height",j*t);this.show=function(u){if(u==p||s){return}u=Math.max(0,Math.min(u,o.length-1));if(k.length){k.eq(p).removeClass(m.activeCls)}s=true;var v={};v[(m.direction!="vertical")?"left":"top"]=-u*j;l.animate(v,m.fxDuration,function(){s=false});p=u;if(k.length){k.eq(p).addClass(m.activeCls)}if(!m.circle){if(p==0){c.addClass("disabled")}else{if(p>=t-n||t<n){f.addClass("disabled")}else{c.add(f).removeClass("disabled")}}}m.onShow.apply(this,[p,o])};if(c.length){c.click(b)}if(f.length){f.click(e)}if(k.length){k.each(function(u){a(this).click(function(){i.show(u)})})}this.show(m.startIndex);if(m.autoPlay){q();h.hover(function(){if(d){clearTimeout(d)}},function(){q()})}function e(){if(p+n<t){i.show(p+1)}else{if(m.circle){i.show(0)}else{return}}}function b(){if(p>0){i.show(p-1)}else{if(m.circle&&t>=n){i.show(t-n)}else{return}}}function q(){d=setInterval(function(){e()},m.duration)}return this};a.fn.marquee=function(b){var c={delay:2000,duration:500,itemCls:"li"};var d=a.extend(c,b);return this.each(function(){var e=a(this),f;e.hover(function(){clearInterval(f)},function(){f=setInterval(function(){var g=e.find(d.itemCls).eq(0);g.animate({marginTop:-g.outerHeight()+"px"},d.duration,function(){g.css("marginTop",0).appendTo(e)})},d.delay)}).trigger("mouseleave")})};a.fn.timeCountDown=function(c){var f={start:null,end:new Date(Date.UTC(2050,0,1)),now:new Date().getTime(),mode:1,cls:{day:"ct-day",hour:"ct-hour",min:"ct-min",sec:"ct-sec",dsec:"ct-dsec"},startHtml:"尚未开始",endHtml:"已结束",padding:true,useHtml:false};var h=a.extend({},f,c),e={};var g=['<span class="'+h.cls.day+'"></span>天','<span class="'+h.cls.hour+'"></span>小时','<span class="'+h.cls.min+'"></span>分','<span class="'+h.cls.sec+'"></span>'+(h.mode==3?'<span class="'+h.cls.dsec+'"></span>':"")+"秒"];if(h.mode!=1){g.splice(0,1)}return this.each(function(){var m=a(this),o,n=Math.floor((h.end-h.now)/1000);if(!h.useHtml){m.html(g.join(" "))}for(var l in h.cls){e[l]=m.find("."+h.cls[l])||null}if(h.end&&b(h.end,h.now)<=0){m.html(h.endHtml);return false}else{if(h.start&&b(h.start,h.now)>0){m.html(h.startHtml);return false}}o=setInterval(function(){var r=i(n);for(var q in e){if(q!=null){e[q].html(r[q])}}if(h.end&&n<=0){m.html(h.endHtml);if(h.onEnd&&a.isFunction(h.onEnd)){h.onEnd.call(this)}if(o){clearTimeout(o)}if(k){clearTimeout(k)}return}n--},1000);if(h.mode==3){var j=0,k=setInterval(function(){j=(++j)%10;e.dsec.html("."+(9-j))},100)}});function i(j){pms={sec:0,min:0,hour:0,day:0};if(j>0){pms.sec=d(j%60);pms.min=Math.floor((j/60))>0?d(Math.floor((j/60))%60):"0";pms.hour=Math.floor((j/3600))>0?(h.mode==2||h.mode==3)?parseInt(Math.floor(j/3600),10):d(Math.floor((j/3600))%24):"0";if(e.day){pms.day=Math.floor((j/86400))>0?d(Math.floor((j/86400))):"0"}}return pms}function d(j){var k=j;if(h.padding){k=parseInt(j,10);if(k>0&&k<=9){k="0"+k}else{if(k<=0){k="0"}}}return k.toString()}function b(k,j){if(!j){j=new Date().getTime()}return(k-j)}};a.fn.tooltip=function(){if(this.length==0){return}return this.each(function(){var b=a(this).attr("title");a(this).attr("title","");if(b!=undefined){a(this).hover(function(g){var f=g.pageX+12;var d=g.pageY+12;a(this).attr("title","");a("body").append("<div id='tooltip'>"+b+"</div>");if(a.browser.msie){var c=a("#tooltip").outerWidth(true)}else{var c=a("#tooltip").width()}a("#tooltip").width(c);a("#tooltip").css("left",f).css("top",d).fadeIn("medium")},function(){a("#tooltip").remove();a(this).attr("title",b)});a(this).mousemove(function(h){var f=h.pageX+12;var d=h.pageY+12;var c=a("#tooltip").outerWidth(true);var g=a("#tooltip").outerHeight(true);if(f+c>a(window).scrollLeft()+a(window).width()){f=h.pageX-c}if(a(window).height()+a(window).scrollTop()<d+g){d=h.pageY-g}a("#tooltip").css("left",f).css("top",d).fadeIn("medium")})}})};a.fn.inputDef=function(){var e=a(this);var d=e.parent();var b=a("label[forinput='"+e.attr("id")+"']");var f=e.val()?a.trim(e.val()):"";d.css("position","relative");c();function c(){if(f===""){b.css("color","#999").show()}else{b.hide()}}e.focusin(function(){c()});e.keydown(function(){b.fadeOut()});e.focusout(function(){f=e.val()?a.trim(e.val()):"";if(!f){b.fadeIn("fast",function(){b.css("color","#666")});e.val("")}});b.click(function(){e.focus()})}})(jQuery);function ajax_page_load(c,a,d,b){$.ajax({type:"post",url:"index.php?",cache:false,data:c+"&"+a+"="+d,success:function(e){$("#"+b).html(e)}})}jQuery.cookie=function(d,e,b){if(arguments.length>1&&(e===null||typeof e!=="object")){b=jQuery.extend({},b);if(e===null){b.expires=-1}if(typeof b.expires==="number"){var g=b.expires,c=b.expires=new Date();c.setDate(c.getDate()+g)}return(document.cookie=[encodeURIComponent(d),"=",b.raw?String(e):encodeURIComponent(String(e)),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join(""))}b=e||{};var a,f=b.raw?function(h){return h}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(d)+"=([^;]*)").exec(document.cookie))?f(a[1]):null};